"use strict";(self.webpackChunkmy_work_zone=self.webpackChunkmy_work_zone||[]).push([[921],{2921:(te,f,s)=>{s.r(f),s.d(f,{OrdersModule:()=>ee});var d=s(2057),_=s(3244),p=s(6782),T=s(9765),e=s(793),u=s(8809),c=s(3013),h=s(7965),Z=s(7745),a=s(6083),v=s(9309);const q=function(n,o){return{"pi-minus":n,"pi-plus":o}};function y(n,o){if(1&n&&e._UZ(0,"span",9),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(1,q,!t.collapsed,t.collapsed))}}function S(n,o){1&n&&e.GkF(0)}function b(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",7),e.NdJ("click",function(l){return e.CHM(t),e.oxw().toggle(l)})("keydown.enter",function(l){return e.CHM(t),e.oxw().toggle(l)}),e.YNc(2,y,1,4,"span",8),e.YNc(3,S,1,0,"ng-container",6),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(),r=e.MAs(4);e.xp6(1),e.uIk("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Q6J("ngIf",t.toggleable),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}}function U(n,o){1&n&&e.GkF(0)}function D(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA(),e.Hsn(2,1),e.YNc(3,U,1,0,"ng-container",6)),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.legend),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function F(n,o){1&n&&e.GkF(0)}const M=["*",[["p-header"]]],I=function(n){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":n}},J=function(n){return{transitionParams:n,height:"0"}},w=function(n){return{value:"hidden",params:n}},Q=function(n){return{transitionParams:n,height:"*"}},L=function(n){return{value:"visible",params:n}},N=["*","p-header"];let Y=0,P=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-fieldset-"+Y++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template}})}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.collapsed?this.expand(t):this.collapse(t),this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed}),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-fieldset"]],contentQueries:function(t,r,l){if(1&t&&e.Suo(l,c.jx,4),2&t){let i;e.iGM(i=e.CRH())&&(r.templates=i)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:N,decls:9,vars:22,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["tabindex","0","pRipple","",3,"click","keydown.enter"],["class","p-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"p-fieldset-toggler","pi",3,"ngClass"],[1,"p-fieldset-legend-text"]],template:function(t,r){if(1&t&&(e.F$t(M),e.TgZ(0,"fieldset",0),e.TgZ(1,"legend",1),e.YNc(2,b,4,4,"ng-container",2),e.YNc(3,D,4,2,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"div",4),e.NdJ("@fieldsetContent.done",function(i){return r.onToggleDone(i)}),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,F,1,0,"ng-container",6),e.qZA(),e.qZA(),e.qZA()),2&t){const l=e.MAs(4);e.Tol(r.styleClass),e.Q6J("ngClass",e.VKq(12,I,r.toggleable))("ngStyle",r.style),e.uIk("id",r.id),e.xp6(2),e.Q6J("ngIf",r.toggleable)("ngIfElse",l),e.xp6(3),e.Q6J("@fieldsetContent",r.collapsed?e.VKq(16,w,e.VKq(14,J,r.transitionOptions)):e.VKq(20,L,e.VKq(18,Q,r.animating?r.transitionOptions:"0ms"))),e.uIk("id",r.id+"-content")("aria-labelledby",r.id)("aria-hidden",r.collapsed),e.xp6(3),e.Q6J("ngTemplateOutlet",r.contentTemplate)}},directives:[d.mk,d.PC,d.O5,d.tP,v.H],styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}"],encapsulation:2,data:{animation:[(0,a.X$)("fieldsetContent",[(0,a.SB)("hidden",(0,a.oB)({height:"0",overflow:"hidden"})),(0,a.SB)("visible",(0,a.oB)({height:"*"})),(0,a.eR)("visible <=> hidden",[(0,a.oB)({overflow:"hidden"}),(0,a.jt)("{{transitionParams}}")]),(0,a.eR)("void => *",(0,a.jt)(0))])]},changeDetection:0}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,v.T],c.m8]}),n})();var g=s(3380),A=s(9529),m=s(3738);function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",13),e.NdJ("onChange",function(l){return e.CHM(t),e.oxw(2).onStateChange(l)})("ngModelChange",function(l){return e.CHM(t),e.oxw(2).selectedState=l}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.orderStatus)("ngModel",t.selectedState)}}function E(n,o){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Brand"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Category"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Price"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Quantity"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Subtotal"),e.qZA(),e.qZA())}function R(n,o){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(2),e.Oqu(t.product.brand),e.xp6(2),e.Oqu(null==t.product.category?null:t.product.category.name),e.xp6(2),e.Oqu(e.lcZ(9,6,null==t.product?null:t.product.price)),e.xp6(3),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.lcZ(14,8,t.quantity*(null==t.product?null:t.product.price)))}}function z(n,o){if(1&n&&(e.TgZ(0,"td",14),e.TgZ(1,"pre"),e._uU(2,"Total Price:    "),e.qZA(),e.qZA(),e.TgZ(3,"td",14),e._uU(4),e.ALo(5,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.order.totalPrice)," ")}}function k(n,o){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"p-card",2),e.TgZ(2,"p-fieldset",3),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e.TgZ(5,"h5"),e._uU(6,"Order Id"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",5),e.TgZ(10,"h5"),e._uU(11,"Order date"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.qZA(),e.TgZ(15,"div",5),e.TgZ(16,"h5"),e._uU(17,"Order Status"),e.qZA(),e.YNc(18,j,1,2,"p-dropdown",6),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"h5"),e._uU(21,"Total Price"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"p-fieldset",7),e.TgZ(26,"p-table",8),e.YNc(27,E,13,0,"ng-template",9),e.YNc(28,R,15,10,"ng-template",10),e.YNc(29,z,6,3,"ng-template",11),e.qZA(),e.qZA(),e.TgZ(30,"p-fieldset",12),e.TgZ(31,"div",4),e.TgZ(32,"div",5),e.TgZ(33,"h5"),e._uU(34,"Order Adress"),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA(),e.TgZ(37,"p"),e._uU(38),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA(),e.TgZ(41,"p"),e._uU(42),e.qZA(),e.qZA(),e.TgZ(43,"div",5),e.TgZ(44,"h5"),e._uU(45,"Customer Name"),e.qZA(),e.TgZ(46,"p"),e._uU(47),e.qZA(),e.qZA(),e.TgZ(48,"div",5),e.TgZ(49,"h5"),e._uU(50,"Customer Email & Phone"),e.qZA(),e.TgZ(51,"p"),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("toggleable",!0),e.xp6(6),e.Oqu(null==t.order?null:t.order.id),e.xp6(5),e.Oqu(e.xi3(14,15,null==t.order?null:t.order.dateOrdered,"short")),e.xp6(5),e.Q6J("ngIf",t.orderStatus),e.xp6(5),e.Oqu(e.lcZ(24,18,null==t.order?null:t.order.totalPrice)),e.xp6(2),e.Q6J("toggleable",!0),e.xp6(1),e.Q6J("value",t.orderItems),e.xp6(4),e.Q6J("toggleable",!0),e.xp6(6),e.hij("",null==t.order?null:t.order.shippingAddress1,","),e.xp6(2),e.hij("",null==t.order?null:t.order.shippingAddress2,","),e.xp6(2),e.AsE("",null==t.order?null:t.order.zip," ",null==t.order?null:t.order.city,","),e.xp6(2),e.Oqu(null==t.order?null:t.order.country),e.xp6(5),e.Oqu(null==t.order.user?null:t.order.user.name),e.xp6(5),e.Oqu(null==t.order?null:t.order.phone)}}let H=(()=>{class n{constructor(t,r,l,i){this.orderSer=t,this.active=r,this.router=l,this.messageService=i,this.endSubs=new T.xQ,this.orderStatus=[{value:"Pending",id:0},{value:"Processed",id:1},{value:"Shipped",id:2},{value:"Delivered",id:3},{value:"Rejected",id:4}]}ngOnDestroy(){this.endSubs.next(),this.endSubs.complete()}ngOnInit(){this.getOrder()}getOrder(){this.active.params.pipe((0,p.R)(this.endSubs)).subscribe(t=>{t.id&&(this.orderId=t.id,this.orderSer.getOrder(this.orderId).pipe((0,p.R)(this.endSubs)).subscribe(r=>{this.order=r,this.orderItems=r.orderItems,this.selectedState=r.status},()=>{this.router.navigate(["/orders"])}))})}onStateChange(t){this.orderSer.editOrderStatus(this.orderId,{status:t.value}).pipe((0,p.R)(this.endSubs)).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Status Changed Successfully"})},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Status Not Changed"})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.Z),e.Y36(u.gz),e.Y36(u.F0),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["admin-oreders-details"]],decls:2,vars:1,consts:[["class","details-container",4,"ngIf"],[1,"details-container"],["header","Order Details"],["legend","Order Details","styleClass","mb-3",3,"toggleable"],[1,"grid"],[1,"col-4"],["optionLabel","value","optionValue","id","placeholder","Select A status",3,"options","ngModel","onChange","ngModelChange",4,"ngIf"],["legend","Order Items","styleClass","mb-3",3,"toggleable"],["responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["legend","Order Address","styleClass","mb-3",3,"toggleable"],["optionLabel","value","optionValue","id","placeholder","Select A status",3,"options","ngModel","onChange","ngModelChange"],[2,"color","green","font-weight","bold","text-align","center"]],template:function(t,r){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,k,53,20,"div",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",r.order))},directives:[h.FN,d.O5,Z.Z,P,g.iA,c.jx,A.Lt,m.JJ,m.On],pipes:[d.uU,d.H9],styles:[""]}),n})();var O=s(3473),x=s(3771),C=s(4207);function V(n,o){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th",8),e._uU(2," User"),e._UZ(3,"p-sortIcon",9),e.qZA(),e.TgZ(4,"th",10),e._uU(5," Total Price"),e._UZ(6,"p-sortIcon",11),e.qZA(),e.TgZ(7,"th",12),e._uU(8," Date Ordered"),e._UZ(9,"p-sortIcon",13),e.qZA(),e.TgZ(10,"th",14),e._uU(11," Status"),e._UZ(12,"p-sortIcon",15),e.qZA(),e._UZ(13,"th"),e.qZA())}const $=function(n){return["order-details",n]};function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"p-tag",16),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p-button",17),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().deleteOrder(i.id)}),e.qZA(),e._UZ(12,"p-button",18),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit,r=e.oxw();e.xp6(2),e.Oqu(null==t.user?null:t.user.name),e.xp6(2),e.Oqu(t.totalPrice),e.xp6(2),e.Oqu(e.xi3(7,6,t.dateOrdered,"short")),e.xp6(3),e.Q6J("value",r.order_status[t.status].value)("severity",r.order_status[t.status].color),e.xp6(3),e.Q6J("routerLink",e.VKq(9,$,t.id))}}const X=[{path:"",component:(()=>{class n{constructor(t,r,l){this.orderSer=t,this.confirmationService=r,this.messageService=l,this.orders=[],this.endSubs=new T.xQ,this.order_status=[{value:"Pending",color:"warning"},{value:"Processed",color:"info"},{value:"Shipped",color:""},{value:"Delivered",color:"success"},{value:"Rejected",color:"danger"}]}ngOnDestroy(){this.endSubs.next(),this.endSubs.complete()}ngOnInit(){this.getOrders()}getOrders(){this.orderSer.getorders().pipe((0,p.R)(this.endSubs)).subscribe(t=>{this.orders=t})}deleteOrder(t){this.confirmationService.confirm({message:"Are you sure that you want to Delete this Order?",accept:()=>{this.orderSer.deletOrder(t).pipe((0,p.R)(this.endSubs)).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Order Deleted Successfully"}),this.orderSer.getorders().pipe((0,p.R)(this.endSubs)).subscribe(r=>this.orders=r)},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Order Cannot Deleted"})})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.Z),e.Y36(c.YP),e.Y36(c.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["admin-oreders-list"]],decls:9,vars:1,consts:[["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"cata-container"],["header","Orders","subheader","List Of All Orders"],[1,"grid"],[1,"col-12"],["responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","Price"],["field","Price"],["pSortableColumn","Date"],["field","Date"],["pSortableColumn","Status"],["field","Status"],[3,"value","severity"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"click"],["styleClass","p-button-error","icon","pi pi-eye",3,"routerLink"]],template:function(t,r){1&t&&(e._UZ(0,"p-toast"),e._UZ(1,"p-confirmDialog",0),e.TgZ(2,"div",1),e.TgZ(3,"p-card",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"p-table",5),e.YNc(7,V,14,0,"ng-template",6),e.YNc(8,K,13,11,"ng-template",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("value",r.orders))},directives:[h.FN,O.Q,Z.Z,g.iA,c.jx,g.lQ,g.fz,x.V,C.zx,u.rH],pipes:[d.uU],styles:[""]}),n})()},{path:"order-details/:id",component:H}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(X)],u.Bz]}),n})();var W=s(7921);let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.U$,d.ez,C.hJ,h.EV,O.D,W.V,Z.d,G,x.W,B,A.kW,m.u5,m.UX]]}),n})()}}]);