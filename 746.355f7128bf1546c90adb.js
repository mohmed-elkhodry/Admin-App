"use strict";(self.webpackChunkmy_work_zone=self.webpackChunkmy_work_zone||[]).push([[746],{1746:(R,v,a)=>{a.r(v),a.d(v,{CatagoriesModule:()=>O});var M=a(8497),q=a(5884),p=a(2057),U=a(4944),s=a(3738),c=a(6782),y=a(9765),t=a(793),d=a(8809),g=a(3013),C=a(7965),h=a(7745),Z=a(7921),f=a(4207),b=a(3928),A=a(5609);function x(e,n){1&e&&(t.TgZ(0,"small",18),t._uU(1,"Name is required"),t.qZA())}function N(e,n){1&e&&(t.TgZ(0,"small",18),t._uU(1,"Icon is required"),t.qZA())}function I(e,n){1&e&&(t.TgZ(0,"small",18),t._uU(1,"color is required"),t.qZA())}let T=(()=>{class e{constructor(i,o,l,r,u){this.formBulider=i,this.active=o,this.catSer=l,this.router=r,this.messageService=u,this.isSubmitted=!1,this.editMode=!1,this.catName="",this.catIcon="",this.catColor="",this.currentId="",this.endSubs=new y.xQ}ngOnDestroy(){this.endSubs.next(),this.endSubs.complete()}ngOnInit(){this.form=this.formBulider.group({name:["",s.kI.required],icon:["",s.kI.required],color:["#fff"]}),this.editForm()}editForm(){this.active.params.pipe((0,c.R)(this.endSubs)).subscribe(i=>{i.id&&(this.editMode=!0,this.catSer.getCatagory(i.id).pipe((0,c.R)(this.endSubs)).subscribe(o=>{this.currentId=i.id,this.catName=null==o?void 0:o.name,this.catIcon=null==o?void 0:o.icon,this.catColor=null==o?void 0:o.color}))})}submit(){this.isSubmitted=!0;const r={name:this.form.controls.name.value,icon:this.form.controls.icon.value,color:this.form.controls.color.value};this.editMode?this.catSer.editCatagory(this.currentId,r).pipe((0,c.R)(this.endSubs)).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Catagory Edited Successfully"}),setTimeout(()=>{this.router.navigate(["/catagories"])},1500)},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Catagory Cannot Edited"})}):this.catSer.addcatagory(r).pipe((0,c.R)(this.endSubs)).subscribe(u=>{this.messageService.add({severity:"success",summary:"Success",detail:`Catagory ${u.name} Added Successfully`}),setTimeout(()=>{this.router.navigate(["/catagories"])},1500)},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Catagory Cannot Added"})})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(s.qu),t.Y36(d.gz),t.Y36(U.n),t.Y36(d.F0),t.Y36(g.ez))},e.\u0275cmp=t.Xpm({type:e,selectors:[["admin-add-cat"]],decls:27,vars:9,consts:[[1,"cata-container"],[3,"header"],[1,"grid","mb-2"],[1,"col-12"],[1,"p-toolbar-group-left"],[1,"p-toolbar-group-right"],["styleClass","p-button-primary mr-2","icon","pi pi-plus",3,"label","click"],["styleClass","p-button-secondary","label","Cancel","icon","pi pi-times","routerLink","/catagories"],[3,"formGroup"],[1,"formgrid","grid"],[1,"field","col"],["for","name"],["id","name","type","text","pInputText","","formControlName","name",1,"w-full",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],["for","icon"],["id","icon","type","text","pInputText","","formControlName","icon",1,"w-full",3,"ngModel","ngModelChange"],["for","color",2,"display","block"],["id","color","formControlName","color",3,"ngModel","ngModelChange"],[1,"p-error"]],template:function(i,o){1&i&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0),t.TgZ(2,"p-card",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"p-toolbar"),t._UZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"p-button",6),t.NdJ("click",function(){return o.submit()}),t.qZA(),t._UZ(9,"p-button",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"form",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"label",11),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"input",12),t.NdJ("ngModelChange",function(r){return o.catName=r}),t.qZA(),t.YNc(16,x,2,0,"small",13),t.qZA(),t.TgZ(17,"div",10),t.TgZ(18,"label",14),t._uU(19,"Icon"),t.qZA(),t.TgZ(20,"input",15),t.NdJ("ngModelChange",function(r){return o.catIcon=r}),t.qZA(),t.YNc(21,N,2,0,"small",13),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"label",16),t._uU(24,"Color"),t.qZA(),t.TgZ(25,"p-colorPicker",17),t.NdJ("ngModelChange",function(r){return o.catColor=r}),t.qZA(),t.YNc(26,I,2,0,"small",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.MGl("header","",o.editMode?"Edit":"Add"," Catagory"),t.xp6(6),t.s9C("label",o.editMode?"Update":"Create"),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("ngModel",o.catName),t.xp6(1),t.Q6J("ngIf",o.form.controls.name.invalid&&o.isSubmitted),t.xp6(4),t.Q6J("ngModel",o.catIcon),t.xp6(1),t.Q6J("ngIf",o.form.controls.icon.invalid&&o.isSubmitted),t.xp6(4),t.Q6J("ngModel",o.catColor),t.xp6(1),t.Q6J("ngIf",o.form.controls.color.invalid&&o.isSubmitted))},directives:[C.FN,h.Z,Z.o,f.zx,d.rH,s._Y,s.JL,s.sg,s.Fj,b.o,s.JJ,s.u,p.O5,A.zH],styles:[""]}),e})();var J=a(8256),S=a(3473),m=a(3380);function L(e,n){1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"th",10),t._uU(2," Name"),t._UZ(3,"p-sortIcon",11),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Icon"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Color"),t.qZA(),t._UZ(8,"th"),t.qZA())}const Y=function(e){return["add-catagory",e]};function z(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",12),t._UZ(4,"i",13),t.qZA(),t.TgZ(5,"td",12),t._UZ(6,"span"),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"p-button",14),t.NdJ("click",function(){const r=t.CHM(i).$implicit;return t.oxw().deletCatgory(r.id)}),t.qZA(),t._UZ(9,"p-button",15),t.qZA(),t.qZA()}if(2&e){const i=n.$implicit;t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Q6J("ngClass","pi-"+i.icon),t.xp6(2),t.Udp("background-color",i.color),t.xp6(3),t.Q6J("routerLink",t.VKq(5,Y,i.id))}}const Q=[{path:"",component:(()=>{class e{constructor(i,o,l){this.catagoriesser=i,this.messageService=o,this.confirmationService=l,this.catagories=[],this.endSubs=new y.xQ}ngOnDestroy(){this.endSubs.next(),this.endSubs.complete()}ngOnInit(){this.catagoriesser.getcatagories().pipe((0,c.R)(this.endSubs)).subscribe(i=>{this.catagories=i})}deletCatgory(i){this.confirmationService.confirm({message:"Are you sure that you want to Delete this Catagory?",accept:()=>{this.catagoriesser.deletCatgory(i).pipe((0,c.R)(this.endSubs)).subscribe(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Catagory Deleted Successfully"}),this.catagoriesser.getcatagories().pipe((0,c.R)(this.endSubs)).subscribe(o=>this.catagories=o)},()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Catagory Cannot Dleted"})})}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(J.nm),t.Y36(g.ez),t.Y36(g.YP))},e.\u0275cmp=t.Xpm({type:e,selectors:[["admin-catagories-list"]],decls:13,vars:1,consts:[["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"cata-container"],["header","Catagories","subheader","List Of All Catagories"],[1,"grid"],[1,"col-12"],[1,"p-toolbar-group-left"],["label","New","icon","pi pi-plus","routerLink","add-catagory"],["responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],[1,"circle"],[1,"pi","cat-icon",3,"ngClass"],["styleClass","p-button-danger mr-2","icon","pi pi-trash",3,"click"],["styleClass","p-button-error","icon","pi pi-pencil",3,"routerLink"]],template:function(i,o){1&i&&(t._UZ(0,"p-toast"),t._UZ(1,"p-confirmDialog",0),t.TgZ(2,"div",1),t.TgZ(3,"p-card",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"p-toolbar"),t.TgZ(7,"div",5),t._UZ(8,"p-button",6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",4),t.TgZ(10,"p-table",7),t.YNc(11,L,9,0,"ng-template",8),t.YNc(12,z,10,7,"ng-template",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(10),t.Q6J("value",o.catagories))},directives:[C.FN,S.Q,h.Z,Z.o,f.zx,d.rH,m.iA,g.jx,m.lQ,m.fz,p.mk],styles:[".circle[_ngcontent-%COMP%]{padding:0!important;text-align:center!important}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;border-radius:50%;background-color:red;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%}.cat-icon[_ngcontent-%COMP%]{font-size:25px}"]}),e})()},{path:"add-catagory",component:T},{path:"add-catagory/:id",component:T}];let F=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Q)],d.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,F,h.d,Z.V,f.hJ,m.U$,q.s,M.JF,b.j,s.u5,s.UX,C.EV,S.D,A.e4]]}),e})()}}]);